<?php
/**
 * Page variables tracking template
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Smile ElasticSuite to newer
 * versions in the future.
 *
 * @category  Smile
 * @package   Smile\ElasticsuiteTracker
 * @author    Romain Ruaud <romain.ruaud@smile.fr>
 * @copyright 2020 Smile
 * @license   Open Software License ("OSL") v. 3.0
 */
?>
<?php /** @var $block Smile\ElasticsuiteTracker\Block\Variables\AbstractBlock **/ ?>
<?php $variables = $block->getVariables(); ?>

<?php if ($block->isEnabled() && !empty($variables)) : ?>
    <script>
    <!--
    try {
    <?php foreach ($variables as $varName => $value) : ?>
        smileTracker.addPageVar('<?php /* @noEscape */ echo $this->escapeJsQuote($varName)?>', '<?php /* @noEscape */ echo $block->stripTags($this->escapeJsQuote($value), null, true) ?>')
    <?php endforeach; ?>
    } catch (err) {
        ;
    }
    //-->
    </script>
<?php endif; ?>
